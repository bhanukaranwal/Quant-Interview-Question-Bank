# Last Ant Standing on a Stick (Advanced Probability & Simulation)

## Problem:
There are **N ants** placed at distinct positions on a stick of length 1. Each ant moves either left or right at speed 1. When two ants collide, they bounce off and reverse direction. Ants fall off when they reach the ends of the stick.

Your tasks are:

1. Given the initial positions and directions of the ants, write a program to determine which ant will be the **last to fall off** the stick.

2. Calculate the **time** at which the last ant falls off.

3. Simulate the ants' movement and collisions accurately and efficiently, avoiding simulating every small time step.

## Details:

- Each ant has speed 1 (distance per unit time).
- When two ants collide, they instantaneously bounce off, reversing directions.
- When ants fall off the stick edges (position 0 or 1), they disappear.
- The order of ants is given initially along with their directions (left or right).
- You may assume ants all have distinct starting positions.
- You must implement an algorithm that returns the identity of the last ant to fall and its falling time.
- Na√Øve simulation (step-by-step position update) is too slow; optimize using insights.

## Hint:

- Consider the fact that ants can be treated as passing through each other if you ignore collisions, because their collisions just swap their velocities.
- Use this to calculate the times ants fall off without simulating collisions explicitly.
- The last ant to fall is the one whose movement to the nearest edge is the longest under this logic.

## Input:
- List of ants, each with:
  - Unique ID
  - Initial position on the stick (0 < position < 1)
  - Direction: left or right

## Output:
- ID of the last ant to fall off
- Time when the last ant falls off

## Example:
Input:
ants = [
{"id": 1, "pos": 0.2, "dir": "right"},
{"id": 2, "pos": 0.5, "dir": "left"},
{"id": 3, "pos": 0.8, "dir": "left"}
]

Output:
Last ant ID: 3
Time: 0.8
Explanation:
Ignoring collisions, ant 3 moving left will fall off after 0.8 units of time, which is the longest among all ants.

---

This problem challenges you to think deeply about physics simulations, collision handling, and smart algorithm design to optimize what looks like an inherently complex simulation.

---
